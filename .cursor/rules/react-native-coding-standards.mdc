---
globs: mobile/src/**/*.ts,mobile/src/**/*.tsx,mobile/*.ts,mobile/*.tsx
description: React Native ì½”ë”© í‘œì¤€ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤
---

# React Native ì½”ë”© í‘œì¤€

## ğŸ“ ì½”ë”© ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

### ë³€ìˆ˜ëª… ë° í•¨ìˆ˜ëª… ê·œì¹™
```typescript
// âœ… ì¢‹ì€ ì˜ˆì‹œ - ëª…í™•í•˜ê³  ì§ê´€ì ì¸ ë³€ìˆ˜ëª…
const userAuthenticationToken = 'abc123';
const isUserLoggedIn = true;
const fetchUserProfileData = async () => {};

// âŒ ë‚˜ìœ ì˜ˆì‹œ - ëª¨í˜¸í•œ ë³€ìˆ˜ëª…
const token = 'abc123';
const flag = true;
const getData = async () => {};
```

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```typescript
// ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒ ìˆœì„œë¡œ êµ¬ì„±:
// 1. imports
// 2. interfaces/types
// 3. ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜
// 4. styles
// 5. export

import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet } from 'react-native';

interface LoginScreenProps {
  navigation: any;
  onLoginSuccess: (user: User) => void;
}

const LoginScreen: React.FC<LoginScreenProps> = ({ navigation, onLoginSuccess }) => {
  // ìƒíƒœ ê´€ë¦¬
  const [username, setUsername] = useState<string>('');
  const [password, setPassword] = useState<string>('');
  const [isLoading, setIsLoading] = useState<boolean>(false);

  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
  const handleLoginButtonPress = async () => {
    // ë¡œê·¸ì¸ ë¡œì§
  };

  return (
    <View style={styles.container}>
      {/* UI ì»´í¬ë„ŒíŠ¸ */}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
});

export default LoginScreen;
```

## ğŸ”§ API í†µì‹  íŒ¨í„´

### API ì„œë¹„ìŠ¤ êµ¬ì¡°
ëª¨ë“  API í˜¸ì¶œì€ [mobile/src/services/api/](mdc:mobile/src/services/api/) ë””ë ‰í† ë¦¬ì˜ ì„œë¹„ìŠ¤ íŒŒì¼ì„ í†µí•´ ìˆ˜í–‰:

```typescript
// authApi.ts ì˜ˆì‹œ
import { axiosInstance } from '../../utils/axiosInstance';
import { LoginRequest, AuthResponse } from '../../types/api';

export const authService = {
  // ë¡œê·¸ì¸ API í˜¸ì¶œ
  async login(loginData: LoginRequest): Promise<AuthResponse> {
    const response = await axiosInstance.post<AuthResponse>('/api/auth/login', loginData);
    return response.data;
  },

  // ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ
  async getUserProfile(): Promise<User> {
    const response = await axiosInstance.get<User>('/api/auth/profile');
    return response.data;
  },
};
```

### ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
```typescript
// ì»´í¬ë„ŒíŠ¸ì—ì„œ API í˜¸ì¶œ ì‹œ ì—ëŸ¬ ì²˜ë¦¬
const handleApiCall = async () => {
  try {
    setIsLoading(true);
    const result = await authService.login(loginData);
    // ì„±ê³µ ì²˜ë¦¬
    onLoginSuccess(result.user);
  } catch (error: any) {
    // êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
    let errorMessage = 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
    if (error.response?.data?.error) {
      errorMessage = error.response.data.error;
    } else if (error.message) {
      errorMessage = error.message;
    }
    Alert.alert('ë¡œê·¸ì¸ ì‹¤íŒ¨', errorMessage);
  } finally {
    setIsLoading(false);
  }
};
```

## ğŸ¨ ìŠ¤íƒ€ì¼ë§ ê°€ì´ë“œ

### ìŠ¤íƒ€ì¼ íŒŒì¼ êµ¬ì¡°
ê° í™”ë©´/ì»´í¬ë„ŒíŠ¸ëŠ” ë³„ë„ì˜ ìŠ¤íƒ€ì¼ íŒŒì¼ì„ ê°€ì§‘ë‹ˆë‹¤:
- `mobile/src/styles/LoginScreen.styles.ts`
- `mobile/src/styles/colors.ts` (ê³µí†µ ìƒ‰ìƒ)

```typescript
// LoginScreen.styles.ts
import { StyleSheet } from 'react-native';
import { colors } from './colors';

export const loginScreenStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: colors.background,
    padding: 16,
  },
  inputField: {
    borderWidth: 1,
    borderColor: colors.border,
    borderRadius: 8,
    padding: 12,
    marginBottom: 16,
    fontSize: 16,
  },
  primaryButton: {
    backgroundColor: colors.primary,
    padding: 16,
    borderRadius: 8,
    alignItems: 'center',
  },
  primaryButtonText: {
    color: colors.white,
    fontSize: 16,
    fontWeight: 'bold',
  },
});
```

## ğŸ“± ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

### í™”ë©´ í¬ê¸° ëŒ€ì‘
```typescript
import { Dimensions } from 'react-native';

const { width: screenWidth, height: screenHeight } = Dimensions.get('window');

const styles = StyleSheet.create({
  container: {
    width: screenWidth,
    minHeight: screenHeight,
  },
  responsiveCard: {
    width: screenWidth > 768 ? '50%' : '90%',
    alignSelf: 'center',
  },
});
```

## ğŸ”’ ë³´ì•ˆ ë° ìµœì í™”

### í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
```typescript
import Config from 'react-native-config';

// í™˜ê²½ ë³€ìˆ˜ ì ‘ê·¼
const apiBaseUrl = Config.API_BASE_URL;
const isDebugMode = Config.DEBUG_MODE === 'true';
```

### ì„±ëŠ¥ ìµœì í™”
```typescript
// React.memo ì‚¬ìš©ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
const OptimizedComponent = React.memo<Props>(({ data }) => {
  return <View>{/* ì»´í¬ë„ŒíŠ¸ ë‚´ìš© */}</View>;
});

// useCallbackìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜
const handleButtonPress = useCallback(() => {
  // ë²„íŠ¼ í´ë¦­ ë¡œì§
}, [dependency]);
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ íŒ¨í„´

### ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
```typescript
// __tests__/LoginScreen.test.tsx
import React from 'react';
import { render, fireEvent } from '@testing-library/react-native';
import LoginScreen from '../src/screens/LoginScreen';

describe('LoginScreen', () => {
  it('ì‚¬ìš©ì ì…ë ¥ì„ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•´ì•¼ í•¨', () => {
    const { getByTestId } = render(<LoginScreen />);
    
    const usernameInput = getByTestId('username-input');
    fireEvent.changeText(usernameInput, 'testuser');
    
    expect(usernameInput.props.value).toBe('testuser');
  });
});
```

## ğŸ“ ì£¼ì„ ì‘ì„± ê°€ì´ë“œ

### í•œê¸€ ì£¼ì„ ì‚¬ìš©
```typescript
// ì‚¬ìš©ì ì¸ì¦ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” í›…
const useAuthentication = () => {
  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);
  
  // ë¡œê·¸ì¸ í† í° ê²€ì¦ ë° ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬
  const validateAuthenticationToken = async () => {
    try {
      const token = await getStoredToken();
      if (token && !isTokenExpired(token)) {
        setIsAuthenticated(true);
      }
    } catch (error) {
      // í† í° ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
      await handleLogout();
    }
  };

  return { isAuthenticated, validateAuthenticationToken };
};
```

## ğŸš€ ë¹Œë“œ ë° ë°°í¬ ê³ ë ¤ì‚¬í•­

### í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬
- Development: ë””ë²„ê·¸ ëª¨ë“œ, ë¡œì»¬ API
- Staging: ë¦´ë¦¬ìŠ¤ ëª¨ë“œ, ìŠ¤í…Œì´ì§• API  
- Production: ìµœì í™”ëœ ë¦´ë¦¬ìŠ¤, í”„ë¡œë•ì…˜ API

### ì½”ë“œ ë¶„í•  ë° ìµœì í™”
```typescript
// ì§€ì—° ë¡œë”©ì„ í†µí•œ ë²ˆë“¤ í¬ê¸° ìµœì í™”
const LazyLoadedScreen = React.lazy(() => import('./HeavyScreen'));

// ì¡°ê±´ë¶€ ì„í¬íŠ¸
if (__DEV__) {
  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë¡œë“œë˜ëŠ” ì½”ë“œ
  import('./DevTools').then(devTools => devTools.setup());
}
```